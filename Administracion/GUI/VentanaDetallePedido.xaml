<UserControl x:Class="Administracion.GUI.VentanaDetallePedido"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">
    <Grid x:Name="dppGrid" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock Text="Ingrese el código del registro a buscar:" 
                       Margin="0,0,0,5" 
                       FontWeight="SemiBold" 
                       Foreground="#444"/>
            
            <StackPanel Orientation="Horizontal">
                <TextBox x:Name="dppTxtblBuscarCodigo" 
                         Width="250" 
                         VerticalContentAlignment="Center"
                         ToolTip="Buscar por codigo de Pedido o Producto"/>
                <Button x:Name="dppBtnConsultar" Content="Consultar" Width="90" Margin="5,0,0,0" Click="dppBtnConsultar_Click"/>
                <Button x:Name="dppBtnIngresar" Content="Ingresar" Width="90" Margin="5,0,0,0" Click="dppBtnIngresar_Click"/>
                <Button x:Name="dppBtnModificar" Content="Modificar" Width="90" Margin="5,0,0,0" Click="dppBtnModificar_Click"/>
                <Button x:Name="dppBtnEliminar" Content="Eliminar" Width="90" Margin="5,0,0,0" Click="dppBtnEliminar_Click"/>
            </StackPanel>
        </StackPanel>

        <DataGrid x:Name="dppDatGri" 
                  Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  SelectionMode="Single" 
                  IsReadOnly="True" 
                  MinHeight="200">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Cód. Pedido" Binding="{Binding PddCodigo}" Width="Auto"/>
                <DataGridTextColumn Header="Cód. Producto" Binding="{Binding ProCodigo}" Width="Auto"/>
                <DataGridTextColumn Header="Cantidad" Binding="{Binding DppCantidad}" Width="Auto"/>
                <DataGridTextColumn Header="Monto" Binding="{Binding DppMonto}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <Border x:Name="PanelFormularioDpp"
                Grid.Row="2"
                Margin="0,10,0,0"
                Padding="15"
                BorderBrush="#CCC"
                BorderThickness="1"
                CornerRadius="6"
                Background="#FAFAFA"
                Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="DETALLE DE PEDIDO" FontSize="15" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,15"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Column="0" Margin="5">
                        <Label Content="Pedido:"/>
                        <ComboBox x:Name="cmbPedidoDpp" DisplayMemberPath="PddCodigo" SelectedValuePath="PddCodigo"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="5">
                        <Label Content="Producto:"/>
                        <ComboBox x:Name="cmbProductoDpp" DisplayMemberPath="ProNombre" SelectedValuePath="Codigo"/>
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="0" Margin="5">
                        <Label Content="Cantidad:"/>
                        <TextBox x:Name="txtDppCantidad" TextChanged="txtDppCantidad_TextChanged"/>
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="5">
                        <Label Content="Monto:"/>
                        <TextBox x:Name="txtDppMonto" IsReadOnly="True" Background="#EBEBEB"/>
                    </StackPanel>
                </Grid>

                <UniformGrid Columns="2" Margin="0,15,0,0">
                    <Button Content="Guardar" Margin="5" Click="BtnGuardar_Click" Background="#DFF0D8"/>
                    <Button Content="Cancelar" Margin="5" Click="BtnCancelar_Click"/>
                </UniformGrid>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>